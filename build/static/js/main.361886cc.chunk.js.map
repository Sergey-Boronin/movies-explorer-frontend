{"version":3,"sources":["images/logo.svg","components/Header/Header.js","utils/useFormValidation.js","components/ErrorInfoTool/ErrorInfoTool.js","components/Login/Login.js","components/Register/Register.js","contexts/CurrentUserContext.js","components/Profile/Profile.js","components/Main/Promo/Promo.js","components/Main/AboutProject/AboutProject.js","components/Main/Techs/Techs.js","images/profile-photo.jpg","images/link-image.svg","components/Main/Portfolio/Portfolio.js","components/Main/AboutMe/AboutMe.js","components/Main/Main.js","utils/constants.js","utils/utils.js","images/icon-movie-default.svg","components/Movies/MoviesCard/MoviesCard.js","components/Movies/Preloader/Preloader.js","components/Movies/MoviesCardsList/MoviesCardsList.js","components/Movies/SearchForm/SearchForm.js","utils/MoviesApi.js","components/Movies/Movies.js","components/SavedMovies/SavedMovies.js","components/Footer/Footer.js","components/PageNotFound/PageNotFound.js","components/ProtectedRoute/ProtectedRoute.js","utils/MainApi.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["Header","loggedIn","React","useState","isBurgerMenuOpened","setIsBurgerMenuOpened","exact","path","className","to","src","headerLogo","alt","type","onClick","id","htmlFor","useFormValidation","values","setValues","errors","setErrors","isFormCorrect","setIsFormCorrect","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","evt","input","target","name","value","validationMessage","closest","checkValidity","ErrorInfoTool","isShown","Login","onLogin","isErrorShown","method","onSubmit","preventDefault","email","password","noValidate","onChange","required","disabled","Register","onRegister","pattern","CurrentUserContext","createContext","Profile","onUpdateUser","onSignOut","currentUser","useContext","isEditingAvailable","setIsEditingAvailable","useEffect","minLength","maxLength","Promo","AboutProject","Techs","Portfolio","href","rel","imageLink","AboutMe","profilePhoto","Main","CARDS_TO_SHOW_AT_1331","sum","more","CARDS_TO_SHOW_AT_1027_1331","CARDS_TO_SHOW_AT_629_1027","CARDS_TO_SHOW_AT_629","filterShortMovies","movies","filter","item","duration","filterMovies","searchQuery","shortFilms","moviesByQuery","strRu","String","nameRU","toLowerCase","strEn","nameEN","searchStr","trim","indexOf","convertDurationToHHMM","hours","Math","floor","minutes","MoviesCard","card","onLikeMovie","onDeleteMovie","liked","savedPage","trailerLink","image","url","defaultImage","trailer","aria-label","Preloader","MoviesCardsList","isLoading","moviesList","isListEmpty","isError","savedMovies","savedMoviesPage","width","getWindowWidth","window","innerWidth","windowWidth","setWindowWidth","handleResize","resizeTimeout","addEventListener","setTimeout","removeEventListener","useWindowWidth","showList","setShowList","cardsShowParams","setCardsShowParams","isMount","setIsMount","length","res","index","map","_id","arr","likedMovieCard","find","movieId","likedMovieId","start","finish","newCards","slice","SearchForm","onSearchFormSubmit","onCheckbox","localStorage","getItem","query","placeholder","checked","moviesApi","moviesURL","this","_moviesURL","ok","json","Promise","reject","status","fetch","headers","then","_checkResponse","Movies","savedMoviesList","forCheckbox","setSearchQuery","setShortFilms","filteredMovies","setFilteredMovies","allMovies","setAllMovies","isMovieNotFound","setIsMovieNotFound","isMoviesLoading","setIsMoviesLoading","setIsError","handleSetFilteredMovies","checkbox","setItem","JSON","stringify","handleCheckFilteredMovies","parse","getInitialMovies","data","console","log","catch","err","finally","list","SavedMovies","resultList","Footer","PageNotFound","history","useHistory","goBack","ProtectedRoute","Component","component","isChecking","props","mainApi","mainApiURL","_mainApiURL","body","token","authorization","country","director","year","description","thumbnail","App","setLoggedIn","setCurrentUser","setIsLoading","setSavedMovies","isInfoErrorShown","setIsInfoErrorShown","handleLogin","login","push","getUserInfo","userInfo","getUsersMovies","isAuthChecking","setIsAuthChecking","checkLogin","checkToken","handleDeleteMovie","movie","deleteMovie","newMoviesList","m","Provider","addMovie","newMovie","removeItem","clear","editProfile","updatedUser","register","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.361886cc.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.3406903e.svg\";","import \"./Header.css\";\nimport headerLogo from \"../../images/logo.svg\";\nimport { Link, Route } from \"react-router-dom\";\nimport React from \"react\";\n\nfunction Header({ loggedIn }) {\n  const [isBurgerMenuOpened, setIsBurgerMenuOpened] = React.useState(false);\n  const endpoints = [\"/movies\", \"/saved-movies\", \"/profile\", \"/\"];\n\n  function handleBurgerClick() {\n    setIsBurgerMenuOpened(!isBurgerMenuOpened);\n  }\n\n  return (\n    <>\n      <Route exact path={endpoints}>\n        {loggedIn ? (\n          <header className=\"header header_movies\">\n            <div className=\"header__container header__container_movies\">\n              <Link className=\"app__link\" to=\"/\">\n                <img\n                  className=\"header__logo\"\n                  src={headerLogo}\n                  alt=\"Логотип проекта\"\n                />\n              </Link>\n              <nav>\n                <Link className=\"app__link header__link-movie\" to=\"/movies\">\n                  Фильмы\n                </Link>\n                <Link\n                  className=\"app__link header__link-movie\"\n                  to=\"/saved-movies\"\n                >\n                  Сохранённые фильмы\n                </Link>\n              </nav>\n              <Link\n                className=\"app__link header__link-movie header__link-profile\"\n                to=\"/profile\"\n              >\n                Аккаунт\n              </Link>\n\n              <input\n                className=\"header__button-burger\"\n                type=\"checkbox\"\n                onClick={handleBurgerClick}\n                id=\"header__button-burger\"\n              />\n              <label\n                className=\"header__icon-burger\"\n                htmlFor=\"header__button-burger\"\n              >\n                <span className=\"header__navicon-burger\"></span>\n              </label>\n\n              <div\n                className={`header__burger-menu ${\n                  isBurgerMenuOpened ? \n                  \"header__burger-menu_opened\" \n                  : \n                  \"\"\n                }`}\n              >\n                <nav className=\"header__burger-links\">\n                  <Link className=\"app__link header__burger-link\" to=\"/\">\n                    Главная\n                  </Link>\n                  <Link className=\"app__link header__burger-link\" to=\"/movies\">\n                    Фильмы\n                  </Link>\n                  <Link\n                    className=\"app__link header__burger-link\"\n                    to=\"/saved-movies\"\n                  >\n                    Сохранённые фильмы\n                  </Link>\n                </nav>\n\n                <Link\n                  className=\"app__link header__link-profile header__link-profile_burger\"\n                  to=\"/profile\"\n                >\n                  Аккаунт\n                </Link>\n              </div>\n            </div>\n          </header>\n        ) : (\n          <header className=\"header header_main\">\n            <div className=\"header__container header__container_main\">\n              <Link className=\"app__link header__link\" to=\"/\">\n                <img\n                  className=\"header__logo\"\n                  src={headerLogo}\n                  alt=\"Логотип проекта\"\n                />\n              </Link>\n              <nav className=\"header__links\">\n                <Link\n                  className=\"app__link header__link header__signup-link\"\n                  to=\"/signup\"\n                >\n                  Регистрация\n                </Link>\n                <Link\n                  to=\"/signin\"\n                  className=\"app__link header__link header__login-link\"\n                >\n                  Войти\n                </Link>\n              </nav>\n            </div>\n          </header>\n        )}\n      </Route>\n    </>\n  );\n}\n\nexport default Header;\n","import { useState, useCallback } from \"react\";\n\nfunction useFormValidation() {\n  const [values, setValues] = useState({});\n  const [errors, setErrors] = useState({});\n  const [isFormCorrect, setIsFormCorrect] = useState(false);\n\n  function handleChange (evt) {\n    const input = evt.target;\n    const name = input.name;\n    const value = input.value;\n\n    setValues({ ...values, [name]: value });\n    setErrors({ ...errors, [name]: input.validationMessage });\n    setIsFormCorrect(input.closest(\"form\").checkValidity());\n  };\n\n  const resetForm = useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsFormCorrect(newIsValid);\n    },\n    [setValues, setErrors, setIsFormCorrect]\n  );\n\n  return {\n    values,\n    setValues,\n    errors,\n    setErrors,\n    isFormCorrect,\n    setIsFormCorrect,\n    handleChange,\n    resetForm\n  };\n}\n\nexport default useFormValidation;\n","import \"./ErrorInfoTool.css\";\n\nfunction ErrorInfoTool({ isShown }) {\n    return(\n        <>\n        {isShown && (\n            <p className=\"error-info-tool__text\">\n            Что-то пошло не так...\n        </p>\n        )}\n        \n        </>\n    );\n}\n\nexport default ErrorInfoTool;","import \"./Login.css\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport useFormValidation from \"../../utils/useFormValidation\";\nimport ErrorInfoTool from \"../ErrorInfoTool/ErrorInfoTool\";\nimport headerLogo from \"../../images/logo.svg\";\n\nfunction Login({ onLogin, isErrorShown }) {\n  const { values, errors, isFormCorrect, handleChange } =\n    useFormValidation();\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    onLogin(values.email, values.password);\n  };\n\n  return (\n    <div className=\"authorization\">\n      <div className=\"authorization__container\">\n        <Link className=\"app__link header__link\" to=\"/\">\n          <img\n            className=\"header__logo\"\n            src={headerLogo}\n            alt=\"Логотип проекта\"\n          />\n        </Link>\n        <h2 className=\"authorization__title\">Рады видеть!</h2>\n        <form\n          className=\"authorization__form\"\n          name=\"register\"\n          method=\"POST\"\n          onSubmit={handleSubmit}\n          noValidate\n        >\n          <label className=\"authorization__input-name\">E-mail</label>\n          <input\n            className=\"authorization__input\"\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            value={values.email || \"\"}\n            onChange={handleChange}\n            required\n          />\n          <span id=\"email-error\" className=\"authorization__input-error\">\n            {errors.email || \"\"}{\" \"}\n          </span>\n          <label className=\"authorization__input-name\">Пароль</label>\n          <input\n            className=\"authorization__input\"\n            id=\"password\"\n            name=\"password\"\n            type=\"password\"\n            value={values.password || \"\"}\n            onChange={handleChange}\n            required\n          />\n          <span id=\"password-error\" className=\"authorization__input-error\">\n            {errors.password || \"\"}{\" \"}\n          </span>\n\n          <ErrorInfoTool\n          isShown={isErrorShown}\n          />\n\n          <button\n            className=\"authorization__button\"\n            type=\"submit\"\n            disabled={!isFormCorrect}\n          >\n            Войти\n          </button>\n        </form>\n        <div className=\"authorization__question\">\n          <p className=\"authorization__question-text\">\n            Ещё не зарегистрированы?\n            <Link className=\"app__link authorization__link\" to=\"/signup\">\n              {\" \"}\n              Регистрация\n            </Link>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n","import \"./Register.css\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport useFormValidation from \"../../utils/useFormValidation\";\nimport ErrorInfoTool from \"../ErrorInfoTool/ErrorInfoTool\";\nimport headerLogo from \"../../images/logo.svg\";\n\nfunction Register({ onRegister, isErrorShown }) {\n  const { values, errors, isFormCorrect, handleChange } =\n    useFormValidation();\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    onRegister(values.name, values.email, values.password);\n  };\n\n  return (\n    <div className=\"authorization\">\n      <div className=\"authorization__container\">\n        <Link className=\"app__link header__link\" to=\"/\">\n          <img\n            className=\"header__logo\"\n            src={headerLogo}\n            alt=\"Логотип проекта\"\n          />\n        </Link>\n        <h2 className=\"authorization__title\">Добро пожаловать!</h2>\n        <form\n          className=\"authorization__form\"\n          name=\"register\"\n          onSubmit={handleSubmit}\n          noValidate\n        >\n          <p className=\"authorization__input-name\">Имя</p>\n          <input\n            className=\"authorization__input\"\n            id=\"name\"\n            name=\"name\"\n            type=\"text\"\n            value={values.name || \"\"}\n            pattern=\"^[A-Za-zА-Яа-яЁё /s -]+$\"\n            onChange={handleChange}\n            required\n          />\n          <span id=\"name-error\" className=\"authorization__input-error\">\n            {errors.name\n              ? `Поле должно быть заполнено и содержать только буквы, пробел или дефис`\n              : \"\"}{\" \"}\n          </span>\n          <p className=\"authorization__input-name\">E-mail</p>\n          <input\n            className=\"authorization__input\"\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            value={values.email || \"\"}\n            onChange={handleChange}\n            required\n          />\n          <span id=\"email-error\" className=\"authorization__input-error\">\n            {errors.email || \"\"}{\" \"}\n          </span>\n          <p className=\"authorization__input-name\">Пароль</p>\n          <input\n            className=\"authorization__input\"\n            id=\"password\"\n            name=\"password\"\n            type=\"password\"\n            value={values.password || \"\"}\n            onChange={handleChange}\n            required\n          />\n          <span id=\"password-error\" className=\"authorization__input-error\">\n            {errors.password || \"\"}{\" \"}\n          </span>\n\n          <ErrorInfoTool isShown={isErrorShown} />\n\n          <button\n            className=\"authorization__button\"\n            type=\"submit\"\n            disabled={!isFormCorrect}\n          >\n            Зарегистрироваться\n          </button>\n        </form>\n        <div className=\"authorization__question\">\n          <p className=\"authorization__question-text\">\n            Уже зарегистрированы?\n            <Link className=\"app__link authorization__link\" to=\"/signin\">\n              {\" \"}\n              Войти\n            </Link>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Register;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import \"./Profile.css\";\nimport React, { useEffect, useState } from \"react\";\nimport useFormValidation from \"../../utils/useFormValidation.js\";\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\n\nfunction Profile({ onUpdateUser, onSignOut }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const {\n    values,\n    setValues,\n    errors,\n    isFormCorrect,\n    setIsFormCorrect,\n    handleChange,\n  } = useFormValidation();\n\n  const [isEditingAvailable, setIsEditingAvailable] = useState(false);\n\n  useEffect(() => {\n    setValues({\n      name: currentUser.name,\n      email: currentUser.email,\n    });\n  }, [setValues, currentUser]);\n\n  useEffect(() => {\n    if (\n      currentUser.name === values.name &&\n      currentUser.email === values.email\n    ) {\n      setIsFormCorrect(false);\n    }\n  }, [currentUser, values, setIsFormCorrect]);\n\n  function handleEditProfile() {\n    setIsEditingAvailable(true);\n  };\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    onUpdateUser(values.name, values.email);\n  };\n\n  return (\n    <>\n      <div className=\"authorization\">\n        <div className=\"authorization__container profile__container\">\n          <h2 className=\"authorization__title profile__title\">\n            {`Привет, ${currentUser.name}!`}\n          </h2>\n          <form\n            className=\"authorization__form\"\n            name=\"profile\"\n            method=\"POST\"\n            noValidate\n            onSubmit={handleSubmit}\n          >\n            <div className=\"profile__input-container\">\n              <p className=\"profile__input-name\">Имя</p>\n              <input\n                className=\"authorization__input profile__input\"\n                id=\"name\"\n                name=\"name\"\n                type=\"text\"\n                value={values.name || \"\"}\n                minLength=\"2\"\n                maxLength=\"30\"\n                required\n                pattern=\"^[A-Za-zА-Яа-яЁё /s -]+$\"\n                onChange={handleChange}\n                disabled={!isEditingAvailable}\n              ></input>\n              <span id=\"name-error\" className=\"profile__error-input\">\n                {errors.name\n                  ? \"Поле должно быть заполнено и содержать только буквы, пробел или дефис\"\n                  : \"\"}\n              </span>\n            </div>\n            <div className=\"profile__input-container\">\n              <p className=\"profile__input-name\">E-mail</p>\n              <input\n                className=\"authorization__input profile__input\"\n                id=\"email\"\n                name=\"email\"\n                type=\"email\"\n                required\n                value={values.email || \"\"}\n                onChange={handleChange}\n                disabled={!isEditingAvailable}\n              ></input>\n              <span id=\"email-error\" className=\"profile__error-input\">\n                {errors.email || \"\"}\n              </span>\n            </div>\n\n            {isEditingAvailable ? (\n              <button\n                className=\"authorization__button profile__button\"\n                type=\"submit\"\n                disabled={!isFormCorrect}\n              >\n                Сохранить\n              </button>\n            ) : (\n              <button\n                className=\"authorization__button profile__button\"\n                type=\"button\"\n                onClick={handleEditProfile}\n              >\n                Редактировать\n              </button>\n            )}\n          </form>\n          <p className=\"app__link profile__link\" onClick={onSignOut}>\n            Выйти из аккаунта\n          </p>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Profile;\n","import \"./Promo.css\";\n\nfunction Promo() {\n  return (\n    <section className=\"promo\">\n      <div className=\"promo__container\">\n        <h1 className=\"promo__title\">\n          Учебный проект студента факультета Веб-разработки.\n        </h1>\n        <div className=\"promo__image\"></div>\n      </div>\n    </section>\n  );\n}\n\nexport default Promo;\n","import \"./AboutProject.css\";\n\nfunction AboutProject() {\n  return (\n    <section className=\"project\">\n      <div className=\"main__container\">\n        <h2 className=\"main__title project__title\">О проекте</h2>\n        <div className=\"project__conditions\">\n          <div className=\"project__condition\">\n            <h3 className=\"project__subtitle\">\n              Дипломный проект включал 5 этапов\n            </h3>\n            <p className=\"project__description\">\n              Составление плана, работу над бэкендом, вёрстку, добавление\n              функциональности и финальные доработки.\n            </p>\n          </div>\n          <div className=\"project__condition\">\n            <h3 className=\"project__subtitle\">\n              На выполнение диплома ушло 5 недель\n            </h3>\n            <p className=\"project__description\">\n              У каждого этапа был мягкий и жёсткий дедлайн, которые нужно было\n              соблюдать, чтобы успешно защититься.\n            </p>\n          </div>\n        </div>\n        <div className=\"project__terms\">\n          <div>\n            <div className=\"project__term project__term_whiteonblue\">\n              1 неделя\n            </div>\n            <span className=\"project__term-span\">Back-end</span>\n          </div>\n          <div>\n            <div className=\"project__term project__term_blackongrey\">\n              4 недели\n            </div>\n            <span className=\"project__term-span\">Front-end</span>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default AboutProject;\n","import \"./Techs.css\";\n\nfunction Techs() {\n  return (\n    <section className=\"techs\">\n      <div className=\"main__container techs__container\">\n        <h2 className=\"main__title\">Технологии</h2>\n        <h3 className=\"techs__title\">7 технологий</h3>\n        <p className=\"techs__subtitle\">\n          На курсе веб-разработки мы освоили технологии, которые применили в\n          дипломном проекте.\n        </p>\n        <ul className=\"techs__list\">\n          <li className=\"techs__item\">HTML</li>\n          <li className=\"techs__item\">CSS</li>\n          <li className=\"techs__item\">JS</li>\n          <li className=\"techs__item\">React</li>\n          <li className=\"techs__item\">Git</li>\n          <li className=\"techs__item\">Express.js</li>\n          <li className=\"techs__item\">MongoDB</li>\n        </ul>\n      </div>\n    </section>\n  );\n}\n\nexport default Techs;\n","export default __webpack_public_path__ + \"static/media/profile-photo.fed265d0.jpg\";","export default __webpack_public_path__ + \"static/media/link-image.ca566df1.svg\";","import \"./Portfolio.css\";\nimport imageLink from \"../../../images/link-image.svg\";\n\nfunction Portfolio() {\n  return (\n    <section className=\"portfolio\">\n      <div className=\"main__container portfolio__container\">\n        <h2 className=\"portfolio__title\">Портфолио</h2>\n        <ul className=\"portfolio__list\">\n          <li className=\"portfolio__item\">\n            Статичный сайт\n            <a\n              className=\"app__link portfolio__link\"\n              href=\"https://semyon-dyagelets.github.io/how-to-learn/\"\n              rel=\"noreferrer\"\n              target=\"_blank\"\n            >\n              <img\n                className=\"portfolio__link-image\"\n                src={imageLink}\n                alt=\"ссылка\"\n              />\n            </a>\n          </li>\n          <li className=\"portfolio__item\">\n            Адаптивный сайт\n            <a\n              className=\"app__link portfolio__link\"\n              href=\"https://semyon-dyagelets.github.io/russian-travel/\"\n              rel=\"noreferrer\"\n              target=\"_blank\"\n            >\n              <img\n                className=\"portfolio__link-image\"\n                src={imageLink}\n                alt=\"ссылка\"\n              />\n            </a>\n          </li>\n          <li className=\"portfolio__item\">\n            Одностраничное приложение\n            <a\n              className=\"app__link portfolio__link\"\n              href=\"https://semyon-dyagelets.nomoredomains.club/\"\n              rel=\"noreferrer\"\n              target=\"_blank\"\n            >\n              <img\n                className=\"portfolio__link-image\"\n                src={imageLink}\n                alt=\"ссылка\"\n              />\n            </a>\n          </li>\n        </ul>\n      </div>\n    </section>\n  );\n}\n\nexport default Portfolio;\n","import \"./AboutMe.css\";\nimport profilePhoto from \"../../../images/profile-photo.jpg\";\nimport Portfolio from \"../Portfolio/Portfolio\";\n\nfunction AboutMe() {\n  return (\n    <section className=\"about-me\">\n      <div className=\"main__container about-me__container\">\n        <h2 className=\"main__title\">Студент</h2>\n        <div className=\"about-me__profile\">\n          <div className=\"about-me__data\">\n            <div>\n              <h3 className=\"about-me__name\">Семён</h3>\n              <h4 className=\"about-me__profession\">\n                Фронтенд-разработчик, 33 года\n              </h4>\n              <p className=\"about-me__story\">\n                Родился и живу в Перми. Закончил историко-политологический\n                факультет ПГУ и успел поработать в СМИ, сфере образования и\n                туризме. Работая в IT-компании и координируя обучение\n                коллег, я заинтересовался фронтенд-разработкой. Так я оказался в\n                Яндекс.Практикуме, где в мае 2021 закончил 9-месячный курс\n                \"Веб-разработчик\".\n              </p>\n            </div>\n            <ul className=\"about-me__contacts\">\n              <a\n                className=\"app__link about-me__link\"\n                href=\"https://www.linkedin.com/in/semyon-dyagelets-40aa3185/\"\n                rel=\"noreferrer\"\n                target=\"_blank\"\n              >\n                <li className=\"app__link about-me__link\">LinkedIn</li>\n              </a>\n              <a\n                className=\"app__link about-me__link\"\n                href=\"https://github.com/semyon-dyagelets\"\n                rel=\"noreferrer\"\n                target=\"_blank\"\n              >\n                <li className=\"about-me__link\">Github</li>\n              </a>\n            </ul>\n          </div>\n          <img\n            className=\"about-me__photo\"\n            src={profilePhoto}\n            alt=\"фото-студента\"\n          />{\" \"}\n        </div>\n      </div>\n      <Portfolio />\n    </section>\n  );\n}\n\nexport default AboutMe;\n","import \"./Main.css\";\nimport Promo from \"./Promo/Promo\";\nimport AboutProject from \"./AboutProject/AboutProject\";\nimport Techs from \"./Techs/Techs\";\nimport AboutMe from \"./AboutMe/AboutMe\";\n\nfunction Main() {\n  return (\n    <main>\n      <Promo />\n      <AboutProject />\n      <Techs />\n      <AboutMe />\n    </main>\n  );\n}\n\nexport default Main;\n","const MAIN_URL = \"api.boronin-diploma.nomoredomains.club\";\n// const localHost = \"http://localhost:3000\";\nconst MOVIES_URL = \"https://api.nomoreparties.co/beatfilm-movies\";\nconst SHORT_FILMS_DURATION = 40;\n\nconst CARDS_TO_SHOW_AT_1331 = { sum: 8, more: 4 };\nconst CARDS_TO_SHOW_AT_1027_1331 = { sum: 12, more: 3 };\nconst CARDS_TO_SHOW_AT_629_1027 = { sum: 8, more: 2 };\nconst CARDS_TO_SHOW_AT_629 = { sum: 5, more: 2 };\n\nexport {\n  MAIN_URL,\n  MOVIES_URL,\n  SHORT_FILMS_DURATION,\n  CARDS_TO_SHOW_AT_1331,\n  CARDS_TO_SHOW_AT_1027_1331,\n  CARDS_TO_SHOW_AT_629_1027,\n  CARDS_TO_SHOW_AT_629,\n};\n","import React from 'react';\nimport { SHORT_FILMS_DURATION } from \"./constants\";\n\nfunction filterShortMovies(movies){\n    return movies.filter((item) => item.duration < SHORT_FILMS_DURATION);\n  };\n\nfunction filterMovies(movies, searchQuery, shortFilms) {\n    const moviesByQuery =  movies.filter((item) => {\n      const strRu = String(item.nameRU).toLowerCase();\n      const strEn = String(item.nameEN).toLowerCase();\n      const searchStr = searchQuery.toLowerCase().trim();\n      return (strRu.indexOf(searchStr) !== -1 || strEn.indexOf(searchStr) !== -1);\n    });\n  \n    if(shortFilms === 'on'){\n      return filterShortMovies(moviesByQuery);\n    }\n    return moviesByQuery;\n  };\n  \nfunction getSavedMovie(arr, id) {\n    return arr.find((item) => {\n      return item.movieId === id;\n    });\n}\n\nfunction useWindowWidth() {\n  const getWindowWidth = React.useCallback(() => window.innerWidth, []);\n  const [windowWidth, setWindowWidth] = React.useState(getWindowWidth());\n\n  React.useEffect(() => {\n\n    function handleResize() {\n      setWindowWidth(getWindowWidth());\n    };\n\n    window.addEventListener('resize', resizeThrottler, false);\n\n    let resizeTimeout;\n    function resizeThrottler() {\n      if (!resizeTimeout) {\n        resizeTimeout = setTimeout(() => {\n          resizeTimeout = null;\n          handleResize();\n        }, 1500);\n      }\n    };\n    \n    return () => window.removeEventListener('resize', handleResize);\n  }, [getWindowWidth]);\n\n  return windowWidth;\n};\n\nfunction convertDurationToHHMM(duration) {\n  const hours = Math.floor(duration / 60) ;\n  const minutes = duration % 60;\n  return `${hours}ч ${minutes}м`\n}\n\nexport {\n  filterShortMovies,\n  filterMovies,\n  getSavedMovie,\n  useWindowWidth,\n  convertDurationToHHMM,\n}\n","export default __webpack_public_path__ + \"static/media/icon-movie-default.c08a6cf7.svg\";","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport { convertDurationToHHMM } from \"../../../utils/utils\";\nimport defaultImage from \"../../../images/icon-movie-default.svg\";\n\nimport \"./MoviesCard.css\";\n\nfunction MoviesCard({ card, onLikeMovie, onDeleteMovie, liked, savedPage }) {\n\n  function handleLikeClick() {\n    onLikeMovie(card);\n  }\n\n  function handleDeleteClick() {\n    onDeleteMovie(card);\n  }\n\n  return (\n    <article className=\"movie\">\n      <Switch>\n        <Route path=\"/movies\">\n          <a\n            href={card.trailerLink}\n            className=\"card__link\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            <img\n              className=\"movie__photo\"\n              src={`${\n                card.image\n                  ? `https://api.nomoreparties.co${card.image.url}`\n                  : defaultImage\n              }`}\n              alt={card.nameRU}\n            />\n          </a>\n        </Route>\n        <Route path=\"/saved-movies\">\n          <a\n            href={card.trailer}\n            className=\"card__link\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            <img\n              className=\"movie__photo\"\n              src={`${\n                card.image\n                  ? `${card.image}`\n                  : defaultImage\n              }`}\n              alt={card.nameRU}\n            />\n          </a>\n        </Route>\n      </Switch>\n\n      <div className=\"movie__description\">\n        <h2 className=\"movie__title\">{card.nameRU}</h2>\n        <button\n          className={`movie__like\n            ${liked && !savedPage ? \"movie__like_active\" : \"\"}\n            ${savedPage ? \"movie__delete\" : \"\"}`}\n          type=\"button\"\n          aria-label=\"лайк\"\n          onClick={savedPage || liked ? handleDeleteClick : handleLikeClick}\n        ></button>\n      </div>\n      <span className=\"movie__length\">\n        {convertDurationToHHMM(card.duration)}\n      </span>\n    </article>\n  );\n}\n\nexport default MoviesCard;\n","import React from \"react\";\nimport \"./Preloader.css\";\n\nconst Preloader = () => {\n  return (\n    <div className=\"preloader\">\n      <div className=\"preloader__container\">\n        <span className=\"preloader__round\"></span>\n      </div>\n    </div>\n  );\n};\n\nexport default Preloader;\n","import React, { useState, useEffect } from \"react\";\nimport \"./MoviesCardsList.css\";\nimport { getSavedMovie, useWindowWidth } from \"../../../utils/utils\";\nimport MoviesCard from \"../MoviesCard/MoviesCard\";\nimport Preloader from \"../Preloader/Preloader\";\nimport { CARDS_TO_SHOW_AT_1331,\n  CARDS_TO_SHOW_AT_1027_1331,\n  CARDS_TO_SHOW_AT_629_1027,\n  CARDS_TO_SHOW_AT_629, } from \"../../../utils/constants\";\n\nfunction MoviesCardsList({\n  isLoading,\n  moviesList,\n  isListEmpty,\n  isError,\n  onLikeMovie,\n  onDeleteMovie,\n  savedMovies,\n  savedMoviesPage,\n}) {\n  const width = useWindowWidth();\n  const [showList, setShowList] = useState([]);\n  const [cardsShowParams, setCardsShowParams] = useState({ sum: 0, more: 0 });\n  const [isMount, setIsMount] = useState(true);\n\n  useEffect(() => {\n    if (width > 1331) {\n      setCardsShowParams(CARDS_TO_SHOW_AT_1331);\n    } else if (width <= 1331 && width > 1027) {\n      setCardsShowParams(CARDS_TO_SHOW_AT_1027_1331);\n    } else if (width <= 1027 && width > 629) {\n      setCardsShowParams(CARDS_TO_SHOW_AT_629_1027);\n    } else if (width <= 629) {\n      setCardsShowParams(CARDS_TO_SHOW_AT_629);\n    }\n    return () => setIsMount(false);\n  }, [width, isMount]);\n\n  useEffect(() => {\n    if (moviesList.length && !savedMoviesPage) {\n      const res = moviesList.filter(\n        (item, index) => index < cardsShowParams.sum\n      );\n      setShowList(res);\n    }\n  }, [moviesList, savedMoviesPage, cardsShowParams.sum]);\n\n  function handleShowMore() {\n    const start = showList.length;\n    const finish = start + cardsShowParams.more;\n    const residual = moviesList.length - start;\n\n    if (residual > 0) {\n      const newCards = moviesList.slice(start, finish);\n      setShowList([...showList, ...newCards]);\n    }\n  }\n\n  function getSavedMoviesPage() {\n    return moviesList.map((item) => (\n      <MoviesCard\n        key={item._id}\n        card={item}\n        savedPage={savedMoviesPage}\n        onDeleteMovie={onDeleteMovie}\n      />\n    ));\n  }\n\n  function getInitialMoviesPage() {\n    return showList.map((item) => {\n      const likedMovieCard = getSavedMovie(savedMovies, item.id);\n      const likedMovieId = likedMovieCard ? likedMovieCard._id : null;\n      return (\n        <MoviesCard\n          key={item.id}\n          card={{ ...item, _id: likedMovieId }}\n          onLikeMovie={onLikeMovie}\n          onDeleteMovie={onDeleteMovie}\n          liked={likedMovieCard ? true : false}\n        />\n      );\n    });\n  }\n\n  return (\n    <>\n      <section className=\"movies\">\n        {isLoading ? (\n          <Preloader />\n        ) : isListEmpty || isError ? (\n          <p\n            className={`movies-list__message ${\n              isError && \"movies-list__message_type_err\"\n            }`}\n          >\n            {isError\n              ? `Во время запроса произошла ошибка. \n              Возможно, проблема с соединением или сервер недоступен.\n              Подождите немного и попробуйте ещё раз.`\n              : \"Ничего не найдено\"}\n          </p>\n        ) : (\n          <>{savedMoviesPage ? getSavedMoviesPage() : getInitialMoviesPage()}</>\n        )}\n      </section>\n      <button\n        className={`movies__button-showmore \n      ${\n        (savedMoviesPage ||\n          isListEmpty ||\n          showList.length === moviesList.length) &&\n        \"movies__button-showmore_hidden\"\n      }`}\n        type=\"button\"\n        aria-label=\"Показать еще\"\n        onClick={handleShowMore}\n      >\n        Ещё\n      </button>\n    </>\n  );\n}\n\nexport default MoviesCardsList;\n","import React, { useEffect } from \"react\";\nimport \"./SearchForm.css\";\nimport useFormValidation from \"../../../utils/useFormValidation\";\n\nfunction SearchForm({\n  onSearchFormSubmit,\n  shortFilms,\n  savedMoviesPage,\n  onCheckbox,\n}) \n{\n  const {\n    values,\n    setValues,\n    errors,\n    isFormCorrect,\n    setIsFormCorrect,\n    handleChange,\n  } = useFormValidation();\n\n  useEffect(() => {\n    if (!savedMoviesPage) {\n      const input = localStorage.getItem(\"searchQuery\");\n      if (input) {\n        setValues({ query: input });\n        setIsFormCorrect(true);\n      }\n    }\n  }, [savedMoviesPage, setValues, setIsFormCorrect]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onSearchFormSubmit(values.query);\n  };\n\n  return (\n    <section className=\"search-form__container\">\n      <form className=\"search-form__box\" onSubmit={handleSubmit}>\n        <div className=\"search-form__find-container\">\n          <input\n            type=\"text\"\n            className=\"search-form__input\"\n            name=\"query\"\n            value={values.query || \"\"}\n            placeholder=\"Фильм\"\n            onChange={handleChange}\n            required\n          ></input>\n          <span className=\"search-form__error-text\" id=\"movie-error\">\n            {errors.query ? \"Введите слово или букву\" : \"\"}\n          </span>\n          <button\n            className=\"search-form__button-find\"\n            type=\"submit\"\n            disabled={!isFormCorrect}\n          ></button>\n        </div>\n\n        <div className=\"search-form__filter-box\">\n          <label\n            className={`search-form__filter\n            ${shortFilms === \"on\" ? \"search-form__filter_active\" : null}`}\n          >\n            <input\n              className=\"search-form__radio search-form__radio_off\"\n              type=\"radio\"\n              name=\"shortFilms\"\n              value=\"off\"\n              checked={shortFilms === \"off\" ? true : false}\n              onChange={onCheckbox}\n            />\n            <input\n              className=\"search-form__radio search-form__radio_on\"\n              type=\"radio\"\n              name=\"shortFilms\"\n              value=\"on\"\n              checked={shortFilms === \"on\" ? true : false}\n              onChange={onCheckbox}\n            />\n            <span className=\"search-form__switch\"></span>\n          </label>\n          <p className=\"search-form__filter-name\">Короткометражки</p>\n        </div>\n      </form>\n    </section>\n  );\n}\n\nexport default SearchForm;\n","import { MOVIES_URL } from \"./constants\";\n\nclass MoviesAPI {\n  constructor({ moviesURL }) {\n    this._moviesURL = moviesURL;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n\n  getInitialMovies() {\n    return fetch(`${this._moviesURL}`, {\n      method: 'GET',\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    }).then(this._checkResponse);\n  }\n\n}\n\nconst moviesApi = new MoviesAPI({\n  moviesURL: MOVIES_URL,\n});\n\nexport default moviesApi;\n","import React, { useEffect, useState } from \"react\";\nimport MoviesCardsList from \"./MoviesCardsList/MoviesCardsList\";\nimport SearchForm from \"./SearchForm/SearchForm\";\nimport {\n  filterMovies,\n  filterShortMovies,\n} from \"../../utils/utils\";\nimport moviesApi from \"../../utils/MoviesApi\";\nimport \"./Movies.css\";\n\nfunction Movies({ onDeleteMovie, onLikeMovie, savedMoviesList }) {\n\n  const forCheckbox =\n    localStorage.getItem(\"shortFilms\") === \"on\" ? \n    \"on\" \n    :\n    \"off\";\n\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [shortFilms, setShortFilms] = useState(forCheckbox);\n  const [filteredMovies, setFilteredMovies] = useState([]);\n  const [allMovies, setAllMovies] = useState([]);\n  const [isMovieNotFound, setIsMovieNotFound] = useState(false);\n  const [isMoviesLoading, setIsMoviesLoading] = useState(false);\n  const [isError, setIsError] = useState(false);\n\n  function handleSetFilteredMovies(movies, query, checkbox) {\n    const moviesList = filterMovies(movies, query);\n    setFilteredMovies( checkbox === \"on\" ? \n      filterShortMovies(moviesList) \n      :\n      moviesList\n    );\n    localStorage.setItem(\"movies\", JSON.stringify(moviesList));\n  }\n\n  function handleSearchSubmit(value) {\n    setIsMoviesLoading(true);\n    setSearchQuery(value);\n    localStorage.setItem(\"searchQuery\", value);\n    localStorage.setItem(\"shortFilms\", shortFilms);\n\n    if (!allMovies.length) {\n      moviesApi\n        .getInitialMovies()\n        .then((data) => {\n          console.log(data);\n          setAllMovies(data);\n          handleSetFilteredMovies(data, value, shortFilms);\n        })\n        .catch((err) => {\n          setIsError(true);\n          console.log(err);\n        })\n        .finally(() => setIsMoviesLoading(false));\n    } else {\n      handleSetFilteredMovies(allMovies, value, shortFilms);\n      setIsMoviesLoading(false);\n    }\n  }\n\n  function handleShortFilms(evt) {\n    setShortFilms(evt.target.value);\n    localStorage.setItem(\"shortFilms\", evt.target.value);\n  }\n\n  function handleCheckFilteredMovies(arr) {\n    arr.length === 0 ? setIsMovieNotFound(true) : setIsMovieNotFound(false);\n  }\n\n  useEffect(() => {\n    const arr = JSON.parse(localStorage.getItem(\"movies\"));\n    if (arr && !searchQuery) {\n      setShortFilms(localStorage.getItem(\"shortFilms\"));\n      setFilteredMovies(shortFilms === \"on\" ? filterShortMovies(arr) : arr);\n      handleCheckFilteredMovies(arr);\n    }\n  }, [shortFilms, searchQuery]);\n\n  useEffect(() => {\n    if (searchQuery) {\n      const arr = filterMovies(allMovies, searchQuery, shortFilms);\n      setFilteredMovies(arr);\n      handleCheckFilteredMovies(arr);\n    }\n  }, [searchQuery, shortFilms, allMovies]);\n\n  return (\n    <section className=\"movies__container\">\n      <SearchForm\n        onSearchFormSubmit={handleSearchSubmit}\n        onCheckbox={handleShortFilms}\n        shortFilms={shortFilms}\n      />\n\n      <MoviesCardsList\n        isLoading={isMoviesLoading}\n        moviesList={filteredMovies}\n        list={filteredMovies}\n        isListEmpty={isMovieNotFound}\n        isError={isError}\n        onDeleteMovie={onDeleteMovie}\n        onLikeMovie={onLikeMovie}\n        savedMovies={savedMoviesList}\n      />\n    </section>\n  );\n}\n\nexport default Movies;","import React, {useState, useEffect} from \"react\";\nimport SearchForm from \"../Movies/SearchForm/SearchForm\";\nimport MoviesCardList from \"../Movies/MoviesCardsList/MoviesCardsList\";\nimport { filterMovies } from \"../../utils/utils\";\nimport \"./SavedMovies.css\";\n\nfunction SavedMovies({ moviesList, onDeleteMovie, isError }) {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [shortFilms, setShortFilms] = useState(\"off\");\n  const [filteredMovies, setFilteredMovies] = useState(moviesList);\n  const [isMovieNotFound, setIsMovieNotFound] = useState(false);\n\n  function handleSearchSubmit(value) {\n    setSearchQuery(value);\n    const resultList = filterMovies(moviesList, searchQuery, shortFilms);\n    setFilteredMovies(resultList);\n  }\n\n  function handleShortFilms(evt) {\n    setShortFilms(evt.target.value);\n    localStorage.setItem(\"shortFilms\", evt.target.value);\n  }\n\n  useEffect(() => {\n    const arr = filterMovies(moviesList, searchQuery, shortFilms);\n    setFilteredMovies(arr);\n    if (searchQuery) {\n      arr.length === 0 ? setIsMovieNotFound(true) : setIsMovieNotFound(false);\n    }\n  }, [searchQuery, shortFilms, moviesList]);\n\n  return (\n    <section className=\"movies__container\">\n      <SearchForm\n        onSearchFormSubmit={handleSearchSubmit}\n        onCheckbox={handleShortFilms}\n        shortFilms={shortFilms}\n        savedMoviesPage={true}\n      />\n      <MoviesCardList\n        moviesList={filteredMovies}\n        savedMoviesPage={true}\n        onDeleteMovie={onDeleteMovie}\n        isListEmpty={isMovieNotFound}\n        isError={isError}\n      />\n    </section>\n  );\n}\n\nexport default SavedMovies;\n","import \"./Footer.css\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <div className=\"footer__container\">\n        <h2 className=\"footer__title\">\n          Учебный проект Яндекс.Практикум х BeatFilm.\n        </h2>\n        <div className=\"footer__info\">\n          <p className=\"footer__copyright\">Семён Дягелец © 2021</p>\n          <nav className=\"footer__links\">\n            <ul className=\"footer__links-list\">\n              <li className=\"footer__item\">\n                <a\n                  className=\"app__link footer__link\"\n                  href=\"https://praktikum.yandex.ru/\"\n                  rel=\"noreferrer\"\n                  target=\"_blank\"\n                >\n                  Яндекс.Практикум\n                </a>\n              </li>\n              <li className=\"footer__item\">\n                <a\n                  className=\"app__link footer__link\"\n                  href=\"https://github.com/semyon-dyagelets\"\n                  rel=\"noreferrer\"\n                  target=\"_blank\"\n                >\n                  Github\n                </a>\n              </li>\n              <li className=\"footer__item\">\n                <a\n                  className=\"app__link footer__link\"\n                  href=\"https://github.com/semyon-dyagelets\"\n                  rel=\"noreferrer\"\n                  target=\"_blank\"\n                >\n                  LinkedIn\n                </a>\n              </li>\n            </ul>\n          </nav>\n        </div>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import \"./PageNotFound.css\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction PageNotFound() {\n  let history = useHistory();\n\n  return (\n    <div className=\"page-not-found__container\">\n      <h2 className=\"page-not-found__title\">404</h2>\n      <p className=\"page-not-found__subtitle\">Страница не найдена</p>\n      <button\n        className=\"page-not-found__back-button\"\n        type=\"button\"\n        onClick={() => history.goBack()}\n      >\n        Назад\n      </button>\n    </div>\n  );\n}\n\nexport default PageNotFound;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport Preloader from \"../Movies/Preloader/Preloader\";\n\nconst ProtectedRoute = ({ component: Component, isChecking, ...props }) => {\n  return (\n    <Route>\n      {isChecking ? (\n        <Preloader />\n      ) : (\n        () => (props.loggedIn ?\n        <Component {...props} />\n        :\n        <Redirect to=\"./\" />)\n      )}\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","import { MAIN_URL } from './constants';\n\nclass MainAPI {\n  constructor({ mainApiURL }) {\n    this._mainApiURL = mainApiURL;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n\n  register(name, email, password) {\n    return fetch(`${this._mainApiURL}/signup`, {\n      method: \"POST\",\n      headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name,\n        email,\n        password,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  login(email, password) {\n    return fetch(`${this._mainApiURL}/signin`, {\n      method: \"POST\",\n      headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        email,\n        password,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  checkToken(token) {\n    return fetch(`${this._mainApiURL}/users/me`, {\n        method: 'GET',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`,\n        }\n    }).then(this._checkResponse);\n}\n\n  getUserInfo() {\n    return fetch(`${this._mainApiURL}/users/me`, {\n      method: \"GET\",\n      headers: {\n        authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        \"Content-Type\": \"application/json\",\n      },\n    }).then(this._checkResponse);\n  }\n\n  editProfile(name, email) {\n    return fetch(`${this._mainApiURL}/users/me`, {\n      method: \"PATCH\",\n      headers: {\n        authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name,\n        email,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  getUsersMovies() {\n    return fetch(`${this._mainApiURL}/movies`, {\n      headers: {\n        authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        \"Content-Type\": \"application/json\",\n      },\n    }).then(this._checkResponse);\n  }\n\naddMovie({\n  country,\n    director,\n    duration,\n    year,\n    description,\n    image,\n    trailerLink,\n    nameRU,\n    nameEN,\n    thumbnail,\n    id\n}) {\n  return fetch(`${this._mainApiURL}/movies`, {\n    method: \"POST\",\n    headers: {\n      authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      country: country || 'no country',\n        director,\n        duration,\n        year,\n        description,\n        image: `https://api.nomoreparties.co${image.url}`,\n        trailer: trailerLink,\n        nameRU: nameRU || 'no name',\n        nameEN: nameEN || 'no name',\n        thumbnail: `https://api.nomoreparties.co${image.url}`,\n        movieId: id,\n    }),\n  }).then(this._checkResponse);\n}\n\n  deleteMovie(movieId) {\n    return fetch(`${this._mainApiURL}/movies/${movieId}`, {\n      method: \"DELETE\",\n      headers: {\n        authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n      },\n    }).then(this._checkResponse);\n  }\n}\n\nconst mainApi = new MainAPI({\n  mainApiURL: MAIN_URL,\n});\n\nexport default mainApi;\n","import React, { useState, useEffect } from \"react\";\nimport { Redirect, Switch } from \"react-router\";\nimport { Route, useHistory } from \"react-router-dom\";\n\nimport Header from \"../Header/Header\";\nimport Login from \"../Login/Login\";\nimport Register from \"../Register/Register\";\nimport Profile from \"../Profile/Profile\";\nimport Main from \"../Main/Main\";\nimport Movies from \"../Movies/Movies\";\nimport SavedMovies from \"../SavedMovies/SavedMovies\";\nimport Footer from \"../Footer/Footer\";\nimport PageNotFound from \"../PageNotFound/PageNotFound\";\nimport ProtectedRoute from \"../ProtectedRoute/ProtectedRoute\";\nimport mainApi from \"../../utils/MainApi\";\nimport Preloader from \"../Movies/Preloader/Preloader\";\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\n\nimport \"./App.css\";\n\nfunction App() {\n  const history = useHistory();\n\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [currentUser, setCurrentUser] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [savedMovies, setSavedMovies] = useState([]);\n  const [isError, setIsError] = useState(false);\n  const [isInfoErrorShown, setIsInfoErrorShown] = useState(false);\n\n  useEffect(() => {\n    if (loggedIn) {\n      mainApi\n        .getUserInfo()\n        .then((userInfo) => {\n          setLoggedIn(true);\n          setCurrentUser(userInfo);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  }, [loggedIn]);\n\n  useEffect(() => {\n    if (loggedIn) {\n      mainApi\n        .getUsersMovies()\n        .then((data) => {\n          setSavedMovies(data);\n          setIsError(false);\n        })\n        .catch((err) => {\n          setIsError(true);\n          console.log(err);\n        });\n    }\n  }, [loggedIn]);\n\n  function handleRegister(name, email, password) {\n    setIsLoading(true);\n    mainApi\n      .register(name, email, password)\n      .then((data) => {\n        if (data) {\n          handleLogin(email, password);\n          // history.push(\"/movies\");\n        }\n      })\n      .catch((err) => {\n        setIsInfoErrorShown(true);\n        console.log(err);\n      })\n      .finally(() => setIsLoading(false));\n  }\n\n  function handleLogin(email, password) {\n    setIsLoading(true);\n    mainApi\n      .login(email, password)\n      .then((res) => {\n        if (res.token) {\n          localStorage.setItem(\"token\", res.token);\n          setLoggedIn(true);\n          history.push(\"/movies\");\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setIsInfoErrorShown(true);\n      })\n      .finally(() => setIsLoading(false));\n  }\n\n  const [isAuthChecking, setIsAuthChecking] = React.useState(true);\n\n  const checkLogin = React.useCallback(() => {\n    setIsAuthChecking(true);\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      mainApi\n        .checkToken(token)\n        .then((res) => {\n          if (res) {\n            setLoggedIn(true);\n            setCurrentUser(res);\n            history.push(\"/movies\");\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        })\n        .finally(() => setIsAuthChecking(false));\n    } else {\n      setIsAuthChecking(false);\n    }\n  }, [history]);\n\n  useEffect(() => {\n    checkLogin();\n  }, [checkLogin]);\n\n  function handleUpdateUser(name, email) {\n    mainApi\n      .editProfile(name, email)\n      .then((updatedUser) => {\n        setCurrentUser(updatedUser);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleSignOut() {\n    localStorage.removeItem(\"jwt\");\n    setCurrentUser({});\n    setLoggedIn(false);\n    localStorage.clear();\n    history.push(\"/\");\n    console.log(localStorage.clear);\n  }\n\n  function handleSaveMovie(card) {\n    mainApi\n      .addMovie(card)\n      .then((newMovie) => {\n        setSavedMovies([newMovie, ...savedMovies]);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleDeleteMovie(movie) {\n    mainApi\n      .deleteMovie(movie._id)\n      .then(() => {\n        const newMoviesList = savedMovies.filter((m) =>\n          m._id === movie._id ? false : true\n        );\n        setSavedMovies(newMoviesList);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        {isLoading ? (\n          <Preloader />\n        ) : (\n          <>\n            <Header loggedIn={loggedIn} />\n\n            <Switch>\n              <ProtectedRoute\n                isChecking={isAuthChecking}\n                exact\n                path=\"/movies\"\n                loggedIn={loggedIn}\n                component={Movies}\n                savedMoviesList={savedMovies}\n                onLikeMovie={handleSaveMovie}\n                onDeleteMovie={handleDeleteMovie}\n              />\n\n              <ProtectedRoute\n                isChecking={isAuthChecking}\n                exact\n                path=\"/saved-movies\"\n                loggedIn={loggedIn}\n                component={SavedMovies}\n                moviesList={savedMovies}\n                onDeleteMovie={handleDeleteMovie}\n                isError={isError}\n              />\n\n              <ProtectedRoute\n                isChecking={isAuthChecking}\n                exact\n                path=\"/profile\"\n                loggedIn={loggedIn}\n                component={Profile}\n                onSignOut={handleSignOut}\n                onUpdateUser={handleUpdateUser}\n              />\n\n              <Route exact path=\"/\">\n                <Main />\n              </Route>\n\n              <Route path=\"/signin\">\n                {loggedIn ? (\n                  <Redirect to=\"/movies\" />\n                ) : (\n                  <Login\n                    onLogin={handleLogin}\n                    isErrorShown={isInfoErrorShown}\n                  />\n                )}\n              </Route>\n\n              <Route path=\"/signup\">\n                {loggedIn ? (\n                  <Redirect to=\"/movies\" />\n                ) : (\n                  <Register\n                    onRegister={handleRegister}\n                    isErrorShown={isInfoErrorShown}\n                  />\n                )}\n              </Route>\n\n              <Route path=\"*\">\n                <PageNotFound />\n              </Route>\n            </Switch>\n\n            <Footer />\n          </>\n        )}\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./components/App/App.js\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}